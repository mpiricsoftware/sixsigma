$(function(){var r=$(".datatables-details"),n=$("#addcommentModal");if(r.length)var s=r.DataTable({processing:!0,serverSide:!0,ajax:{url:baseUrl+"details-list"},columns:[{data:""},{data:"id"},{data:"user_name"},{data:"user_email"},{data:"form_name"},{data:"form_description"},{data:"action"}],columnDefs:[{className:"control",searchable:!1,orderable:!1,targets:0,render:function(){return""}},{targets:1,render:function(a,t,e){return`<span>${e.fack_id}</span>`}},{targets:2,render:function(a,t,e){return`<span>${e.user_name||"N/A"}</span>`}},{targets:3,render:function(a,t,e){return`<span>${e.user_email||"N/A"}</span>`}},{targets:4,render:function(a,t,e){return`<span>${e.form_name}</span>`}},{targets:5,render:function(a,t,e){return`<span>${e.form_description}</span>`}},{targets:-1,title:"Actions",searchable:!1,orderable:!1,render:function(a,t,e){var i=printRoute.replace(":id",e.id),d=chart.replace(":id",e.form_id).replace(":user_id",e.user_id).replace(":details_id",e.id);return`<div class="d-flex align-items-center gap-50"><a href="#" data-id="${e.id}" class="btn btn-sm btn-icon btn-text-secondary rounded-pill waves-effect btn-preview" title="Preview">
                              <i class="ri-eye-line ri-20px"></i>
                          </a><a href="${i}" class="btn btn-sm btn-icon btn-text-secondary rounded-pill waves-effect" title="Download">
                              <i class="ri-download-line ri-20px"></i>
                          </a><a href="${d}" class="btn btn-sm btn-icon btn-text-secondary rounded-pill waves-effect" title="Download Chart">
                              <i class="ri-bar-chart-box-line ri-20px"></i>
                          </a></div>`}}]});$(document).on("click",".btn-preview",function(a){a.preventDefault();let t=$(this).data("id");$("#details_id").val(t),$.ajax({url:`/comment/${t}`,type:"GET",success:function(e){$("#comment").val(e.comment)},error:function(e){console.log("Error fetching comment:",e.responseText)}}),$("#addcommentModal").modal("show")}),$("#addformcomment").on("submit",function(a){a.preventDefault(),$.ajax({data:$(this).serialize(),url:`${baseUrl}details-list`,type:"POST",success:function(t){s.draw(),n.modal("hide"),Swal.fire({icon:"success",title:"Successfully Added!",text:"Details Added Successfully.",customClass:{confirmButton:"btn btn-success"}})},error:function(t){n.modal("hide"),Swal.fire({title:"Oops!",text:"Something went wrong.",icon:"error",customClass:{confirmButton:"btn btn-success"}})}})})});
